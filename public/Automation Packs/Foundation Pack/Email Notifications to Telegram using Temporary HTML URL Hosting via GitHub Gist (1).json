{
  "name": "Email Notifications to Telegram using Temporary HTML URL Hosting via GitHub Gist",
  "nodes": [
    {
      "parameters": {
        "format": "resolved",
        "options": {
          "customEmailConfig": "[\"UNSEEN\"]",
          "forceReconnect": 60
        }
      },
      "id": "1c7b05e0-d82b-4851-a1ec-713093cdf489",
      "name": "Email Trigger (IMAP)",
      "type": "n8n-nodes-base.emailReadImap",
      "position": [
        448,
        464
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "chatId": "<Your Chat ID Here>",
        "text": "=ðŸ“§ <b>You've got mail!</b>\n\nA new email has arrived from this address: <code>{{ $node[\"Email Trigger (IMAP)\"].json[\"from\"][\"value\"][\"0\"][\"address\"] }}</code>\n\nðŸŒ A secert HTML page has been created for it, where you can preview the message by following the link below ðŸ‘‡",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "={{ $('Github Gist').item.json.files[\"email.html\"].filename }}",
                    "additionalFields": {
                      "url": "={{'http://emails.nskha.com/?iloven8n=nskha&id='+ $('Github Gist').item.json.id}}"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": true,
          "disable_web_page_preview": true,
          "parse_mode": "HTML"
        }
      },
      "id": "734424e6-d292-47d7-abb9-9630bdc00e35",
      "name": "Telegram",
      "type": "n8n-nodes-base.telegram",
      "position": [
        1056,
        464
      ],
      "typeVersion": 1.1,
      "webhookId": "4aa6e47e-5460-40b3-9f95-d1f6f79686f2"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.github.com/gists",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "githubApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Accept",
              "value": "application/vnd.github+json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"description\": \"{{ $json.date }} - from {{ JSON.stringify($json.from.value[0].address).slice(1, -1) }} - to {{ JSON.stringify($json.to.value[0].address).slice(1, -1) }}\",\n  \"public\": false,\n  \"files\": {\n    \"email.html\": {\n      \"content\": \"{{ JSON.stringify($json.html).slice(1, -1) }}\"\n    }\n  }\n}",
        "options": {
          "redirect": {
            "redirect": {}
          }
        }
      },
      "id": "260c6ba6-1922-4bcb-bd5e-20b307ac638d",
      "name": "Github Gist",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        752,
        464
      ],
      "notesInFlow": true,
      "typeVersion": 4.1,
      "notes": "Save HTML content"
    },
    {
      "parameters": {
        "content": "## Simple Conversion of Emails into HTML Webpages\nTo-do:\n* Configure your GitHub credentials through `Predefined Credential Type` => `GitHub API`.\n* Add your Telegram credentials by providing your `Chat ID`.\n* [**Optional**] You can host this [small project](https://github.com/Automations-Project/Emails/tree/main) on your own domain using GitHub Pages.\n\n â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ  â€Œ â€Œ â€Œ  â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ ![image](https://cdn.statically.io/gh/Automations-Project/Emails/main/iloven8n.min.svg)\n\n\n\n\n\n\n\n â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ  â€Œ â€Œ â€Œ  â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ â€Œ ![image](https://cdn.statically.io/gh/Automations-Project/Emails/main/iloven8n%E2%80%8C.min.svg)",
        "height": 626.9128738621571,
        "width": 872,
        "color": 7
      },
      "id": "0a77d236-e387-4458-a9cc-9ff7977ba4aa",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        368,
        240
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "amount": 3
      },
      "id": "f69cf395-0050-44b3-a713-61f0cc5977ad",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        448,
        704
      ],
      "webhookId": "c5202512-f84e-44b4-b357-9ee2124bd507",
      "notesInFlow": true,
      "typeVersion": 1,
      "notes": "Delete within 3h"
    },
    {
      "parameters": {
        "operation": "deleteMessage",
        "chatId": "<Your Chat ID Here>",
        "messageId": "={{ $('Telegram').item.json.result.message_id }}"
      },
      "id": "c6067792-4fc2-4ced-bb04-6c5449a533ab",
      "name": "Telegram â€Œ",
      "type": "n8n-nodes-base.telegram",
      "position": [
        1056,
        704
      ],
      "typeVersion": 1.1,
      "webhookId": "b2d555ef-ecb5-402b-9cd3-815f6903b873"
    },
    {
      "parameters": {
        "method": "DELETE",
        "url": "=https://api.github.com/gists/{{ $item(\"0\").$node[\"Github Gist\"].json[\"id\"] }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "githubApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Accept",
              "value": "application/vnd.github+json"
            }
          ]
        },
        "options": {
          "redirect": {
            "redirect": {}
          }
        }
      },
      "id": "ebfe89fb-b0a3-4826-a72b-3fb8baa473c4",
      "name": "Github Gist â€Œ",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        752,
        704
      ],
      "notesInFlow": true,
      "typeVersion": 4.1,
      "notes": "Remove HTML content"
    },
    {
      "parameters": {
        "content": "![Sticky Note Image](https://cdn.discordapp.com/attachments/1421922857595834368/1422243054559035492/banner.png?ex=68e1e550&is=68e093d0&hm=7f4b2ad03acfb637d9ba3177654240de26ebf97100596366c4e3c1b99ffdfe23&)",
        "height": 432,
        "width": 1056
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        272,
        -192
      ],
      "id": "8fbe02f9-6864-40bd-b389-a25c054d27dc",
      "name": "Sticky Note1"
    }
  ],
  "pinData": {},
  "connections": {
    "Wait": {
      "main": [
        [
          {
            "node": "Github Gist â€Œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Github Gist": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Github Gist â€Œ": {
      "main": [
        [
          {
            "node": "Telegram â€Œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Email Trigger (IMAP)": {
      "main": [
        [
          {
            "node": "Github Gist",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "",
  "meta": {
    "templateId": "2080",
    "instanceId": "37203d6f9688077f4a5f9120b53471928bcb51453b38659512b9883b88ff7240"
  },
  "tags": []
}